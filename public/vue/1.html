<!DOCTYPE html>
<html lang="zh-cmn-Hans" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <title>逗逼拯救世界</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <script src="vue1.js"></script>
    <script src="z.js"></script>
    <link rel="stylesheet" href="weui.css"/>
    <style type="text/css">
        /*like相关*/
        .heart {
            width: 50px;
            height: 50px;
            float: left;
            cursor: pointer;
            background: url('like.png') no-repeat left;
            background-size: 1450px;
        }

        @-webkit-keyframes heartBlast {
            0% {
                background-position: left;
            }
            100% {
                background-position: right;
            }
        }

        @keyframes heartBlast {
            0% {
                background-position: left;
            }
            100% {
                background-position: right;
            }
        }

        .heartAnimation {
            -webkit-animation-name: heartBlast;
            animation-name: heartBlast;
            -webkit-animation-duration: .8s;
            animation-duration: .8s;
            -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
            -webkit-animation-timing-function: steps(28);
            animation-timing-function: steps(28);
            background-position: right;
        }

        /*like相关结束*/
        /*评论相关*/
        .talk {
            width: 50px;
            height: 50px;
            float: right;
            cursor: pointer;
            background: url('discuss.png') no-repeat left;
            background-size: 1450px;
        }

        @-webkit-keyframes talkBlast {
            0% {
                background-position: left;
            }
            100% {
                background-position: right;
            }
        }

        @keyframes talkBlast {
            0% {
                background-position: left;
            }
            100% {
                background-position: right;
            }
        }

        .talkAnimation {
            -webkit-animation-name: talkBlast;
            animation-name: talkBlast;
            -webkit-animation-duration: .8s;
            animation-duration: .8s;
            -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
            -webkit-animation-timing-function: steps(28);
            animation-timing-function: steps(28);
            background-position: right;
        }

        /*评论相关结束*/

        /*更多的按钮*/
        .more {
            width: 100%;
            height: auto;
            clear: both;
            float: left;
            position: relative;
            top: 0px;
        }

        .more_button {
            width: 300px;
            margin: 10px auto;
            text-align: center;
            line-height: 2.55555556;
            height: 50px;
            color: #000000;
            border-radius: 5px;
            font-size: 18px;
            background-color: #F8F8F8;
            border: 1px solid #585858;
        }

        /*更多的按钮*/

        /*固定的按钮*/
        .button_menu {
            position: fixed;
            top: 30px;
            right: 0;
            width: 25px;
            z-index: 100;
            background-color: #e91e63;
            height: 30px;
            color: #FFFFFF;
        }

        @-webkit-keyframes button_menu_30 {
            0% {
                width: 25px;
            }
            100% {
                width: 300px;
            }
        }

        @keyframes button_menu_30 {
            0% {
                width: 25px;
            }
            100% {
                width: 300px;
            }
        }

        .buttonMenuAnimation_30 {
            -webkit-animation-name: button_menu_30;
            animation-name: button_menu_30;
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            width: 300px;
        }

        @-webkit-keyframes button_menu_300 {
            0% {
                width: 300px;
            }
            100% {
                width: 25px;
            }
        }

        @keyframes button_menu_300 {
            0% {
                width: 300px;
            }
            100% {
                width: 25px;
            }
        }

        .buttonMenuAnimation_300 {
            -webkit-animation-name: button_menu_300;
            animation-name: button_menu_300;
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            width: 25px;
        }

        .button_flag {
            width: 30px;
            height: 30px;
            position: relative;
            left: -15px;
            border-radius: 50%;
            font-size: 25px;
            line-height: 33px;
            text-indent: 5px;
            background-image: url("close.png");
        }

        @-webkit-keyframes button_move_45 {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(45deg);
            }
        }

        @keyframes button_move_45 {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(45deg);
            }
        }

        .buttonAnimation_45 {
            -webkit-animation-name: button_move_45;
            animation-name: button_move_45;
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            transform: rotate(45deg);
        }

        @-webkit-keyframes button_move_0 {
            0% {
                transform: rotate(45deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }

        @keyframes button_move_0 {
            0% {
                transform: rotate(45deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }

        .buttonAnimation_0 {
            -webkit-animation-name: button_move_0;
            animation-name: button_move_0;
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            transform: rotate(0deg);
        }

        .show_detail_open {
            background-color: #f8f8f8;
            clear: both;
            float: left;
            width: 250px;
            margin-left: 15px;
            height: auto;
        }

        /*固定的按钮*/

    </style>
</head>
<body onload="load()" id="app"
      style="font-family:'-apple-system-font,Helvetica Neue,Helvetica,sans-serif';background-color: #f8f8f8">
<div style="margin-bottom: 20px;background-color: #ffffff;" v-for="i in data_main"/>
<!--标题+图片-->
<article class="weui-article" style="padding-bottom: 0;">
    <section style="margin-bottom: 0">
        <p>{{i.value}}</p>

        <p style="margin: 0"><img v-bind:src="i.url" src=""/></p>
        <!--自己加的按钮-->
        <div style="width: 100%;height: 50px;">
            <span @click="heart($index)" v-bind:class="{'heartAnimation':i.class_heart}" class="heart"></span>
            <span @click="add_commit($index)" v-bind:class="{'talkAnimation':i.show_commit}" class="talk"></span>
        </div>
        <!--自己加的按钮结束-->
    </section>
</article>
<!--评论区域-->
<div v-show="i.show_commit">
    <!--新增评论区-->
    <div class="weui-cells" style="margin-top: 0;">
        <div class="weui-cell">
            <div class="weui-cell__bd">
                <input class="weui-input" placeholder="发表您的神评论" type="text" ref="input" @blur="submit_commit($index)"
                       v-model="message">
            </div>
        </div>
    </div>
    <!--评论区域-->
    <!--评论展示区-->
    <div class="weui-panel__bd" id="commit_old" v-for="ii in i.commit">
        <a class="weui-media-box weui-media-box_appmsg">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="a.jpg"/>
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title" style="color: #999999;position: relative;top:-12px;">
                    {{ii.floor+'楼大神：'+ii.comment_person}}</h4>

                <p class="weui-media-box__desc" style="color: #000000">{{ii.comment_detail}}</p>
            </div>
        </a>
    </div>
    <!--评论展示区-->
    <!--评论区域-->
</div>
</div>
<div class="more">
    <div id="more_button" class="more_button" @click="add_pic()">
        加 载 更 多
    </div>
</div>

<!--右侧导航栏位-->
<div class="button_menu"
     v-bind:class="{'buttonMenuAnimation_30':button_flag_open,'buttonMenuAnimation_300':!button_flag_open}">
    <div class="button_flag" @click="show_detail()"
         v-bind:class="{'buttonAnimation_45':button_flag_open,'buttonAnimation_0':!button_flag_open}">
    </div>
    <div class="show_detail_open" v-if="button_flag_open">
        <article class="weui-article">
            <section>
                <p style="color: #080808">
                    这里是一个纯匿名交流社区。大家肆无忌惮的分享自己身边的丑事。丑化自己，娱乐大家。娱乐到全世界都充满欢乐。
                </p>
            </section>
            <a @click="show_dialogue()" class="weui-btn weui-btn_primary">发布我的趣事</a>
        </article>
    </div>
</div>
<!--右侧导航栏位-->

<div class="js_dialog" id="iosDialog2" style="opacity: 1;" v-if="button_flag_dialogue">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
        <div class="weui-dialog__bd">发帖需要审核下，请把趣事直接发到微信公众~</div>
        <div class="weui-dialog__ft">
            <a @click="show_dialogue()" class="weui-dialog__btn weui-dialog__btn_primary">知道了</a>
        </div>
    </div>
</div>

<script src="main.js"></script>
</body>
</html>
